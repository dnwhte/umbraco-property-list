<div class="umb-editor" ng-controller="Our.Umbraco.PropertyList.Controllers.PropertyListController as vm">

    <umb-load-indicator ng-show="!vm.inited"></umb-load-indicator>

    <div ng-if="vm.inited && !vm.isConfigured">
        <p><em>A repeatable property has not been configured. Please configure the data type.</em></p>
    </div>

    <div ng-if="vm.inited && vm.isConfigured">

        <div class="list-view-layouts" ui-sortable="vm.sortableOptions" ng-model="vm.controls">

            <div class="list-view-layout" ng-repeat="control in vm.controls">

                <i class="icon-navigation list-view-layout__sort-handle"></i>

                <div class="list-view-layout__path">
                    <umb-property-editor model="control" />
                </div>

                <div ng-if="vm.canDelete()">
                    <div class="list-view-layout__remove">
                        <i class="icon-trash" ng-click="vm.showPrompt(control)"></i>
                        <umb-confirm-action ng-if="control.deletePrompt"
                                            direction="left"
                                            on-confirm="vm.deleteContent($index)"
                                            on-cancel="vm.hidePrompt(control)">
                        </umb-confirm-action>
                    </div>
                </div>

            </div>

        </div>

        <a href="" class="list-view-add-layout" ng-click="vm.addContent()" ng-if="vm.canAdd()" prevent-default>Add</a>

    </div>

</div>